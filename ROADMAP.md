# ğŸ—ºï¸ ROADMAP - Dialecticia

## âœ… **COMPLETADO - Fase I: FundaciÃ³n del Sistema**

### **ğŸ§ª Laboratorio de FilÃ³sofos**
- âœ… Wizard de creaciÃ³n avanzado con trade-offs de personalidad
- âœ… **NUEVO**: Sistema de trade-offs con etiquetas correctas (Conservador â†’ Revolucionario, etc.)
- âœ… **NUEVO**: Mapeo consistente de atributos entre creaciÃ³n y ediciÃ³n
- âœ… **NUEVO**: NavegaciÃ³n de vuelta al home desde laboratorio
- âœ… Sistema de puntuaciÃ³n exagerada de personalidad con LLM
- âœ… **MEJORADO**: Migrado a GPT-4o para mejor generaciÃ³n de rasgos
- âœ… **MEJORADO**: Prompt integral que incluye trade-offs + salsa secreta + mecÃ¡nicas
- âœ… CreaciÃ³n/duplicaciÃ³n/ediciÃ³n/eliminaciÃ³n completa
- âœ… BotÃ³n de duplicar visible en TODOS los filÃ³sofos (propios y ajenos)
- âœ… Botones de editar/eliminar solo para filÃ³sofos propios
- âœ… CategorÃ­as de personalidad se preservan en ediciones
- âœ… Parsing JSON robusto para evitar errores de runtime
- âœ… Sistema de aspectos de personalidad con trade-offs
- âœ… IntegraciÃ³n con LLM para generaciÃ³n de descripciones Ãºnicas

### **ğŸ  PÃ¡gina Principal**
- âœ… **NUEVO**: DiseÃ±o renovado con dos botones principales
- âœ… **NUEVO**: BotÃ³n "Iniciar Debate" y "Laboratorio de FilÃ³sofos"
- âœ… **NUEVO**: Enlaces de administraciÃ³n reorganizados
- âœ… **MEJORADO**: Interfaz mÃ¡s limpia y enfocada

### **ğŸ­ Sistema de Tonos**
- âœ… Laboratorio de tonos personalizado con activaciÃ³n/desactivaciÃ³n
- âœ… Tonos predefinidos y personalizados
- âœ… IntegraciÃ³n con debates

### **ğŸš€ Infraestructura Base**
- âœ… Sistema de autenticaciÃ³n completo
- âœ… Base de datos Prisma con migraciones
- âœ… API endpoints robustos con validaciÃ³n Zod
- âœ… **MEJORADO**: Manejo de errores y logging detallado
- âœ… Middleware de seguridad
- âœ… **NUEVO**: Sistema de debugging avanzado para LLM prompts

### **ğŸ’¬ Sistema de Debates**
- âœ… CreaciÃ³n y gestiÃ³n de debates
- âœ… ParticipaciÃ³n de mÃºltiples filÃ³sofos
- âœ… Sistema de mensajes con persistencia
- âœ… Sugerencias inteligentes de filÃ³sofos antagÃ³nicos
- âœ… Estados de debate (activo, pausado, terminado)

### **ğŸ” Sistema de AdministraciÃ³n**
- âœ… Panel de administraciÃ³n de invitaciones
- âœ… GestiÃ³n de prompts del sistema
- âœ… ConfiguraciÃ³n de tonos
- âœ… **NUEVO**: Sistema de roles (admin/usuario)

---

## ğŸš§ **COMPLETADO - Fase II: GestiÃ³n Avanzada de LLM**

### **âœ… Sistema de GestiÃ³n de Prompts y Modelos LLM - COMPLETADO**
- âœ… **COMPLETADO**: Panel administrativo para gestiÃ³n de prompts
- âœ… **COMPLETADO**: Selector de modelos LLM por funcionalidad
- âœ… **COMPLETADO**: GestiÃ³n de API keys de mÃºltiples proveedores
- âœ… **COMPLETADO**: Editor de prompts con vista previa
- âœ… **COMPLETADO**: Versionado de prompts
- âœ… **COMPLETADO**: Testing A/B de prompts
- âœ… **COMPLETADO**: Dashboard de costos por modelo
- âœ… **COMPLETADO**: Logs de llamadas LLM con mÃ©tricas

### **âœ… Sistema de Debugging de Prompts - COMPLETADO**
- âœ… **COMPLETADO**: Control de activaciÃ³n/desactivaciÃ³n de prompts
- âœ… **COMPLETADO**: Logs detallados de errores de prompts
- âœ… **COMPLETADO**: DiferenciaciÃ³n visual de errores de debugging vs errores reales
- âœ… **COMPLETADO**: Mensajes de error especÃ­ficos para debugging

### **âœ… Sistema de ExportaciÃ³n PDF - COMPLETADO**
- âœ… **COMPLETADO**: ExportaciÃ³n de debates como PDFs profesionales
- âœ… **COMPLETADO**: DiseÃ±o branded con colores de Dialecticia
- âœ… **COMPLETADO**: Layout profesional A4 con mÃ¡rgenes optimizados
- âœ… **COMPLETADO**: DiferenciaciÃ³n visual entre usuario y filÃ³sofo
- âœ… **COMPLETADO**: Metadatos completos del PDF
- âœ… **COMPLETADO**: OptimizaciÃ³n para impresiÃ³n y sharing
- âœ… **COMPLETADO**: Migrado a Puppeteer para mayor confiabilidad y calidad
- âœ… **COMPLETADO**: InformaciÃ³n detallada de filÃ³sofos con grÃ¡ficos de barras
- âœ… **COMPLETADO**: Trade-offs filosÃ³ficos visualizados
- âœ… **COMPLETADO**: Disclaimers acadÃ©micos sobre naturaleza de IA
- âœ… **COMPLETADO**: DiseÃ±o moderno con gradientes y efectos visuales
- âœ… **COMPLETADO**: Mensaje final promocionando lectura de libros reales

### **ğŸ¨ Interfaz de Usuario - EN PROGRESO**
- âœ… **COMPLETADO**: Interfaz administrativa LLM completa
- ğŸ”„ Mejoras en responsive design
- ğŸ”„ Animaciones y transiciones fluidas
- ğŸ”„ Componentes UI unificados

### **ğŸ§  Inteligencia del Sistema**
- âœ… **COMPLETADO**: Algoritmo de generaciÃ³n de rasgos mejorado con GPT-4o
- ğŸ”„ AnÃ¡lisis de compatibilidad entre filÃ³sofos
- ğŸ”„ Sistema de recomendaciones basado en historial

---

## ğŸ“‹ **PRÃ“XIMOS PASOS - Fase III: Funcionalidades Avanzadas**

### **ğŸ“Š Analytics y Reporting**
- â³ Dashboard de estadÃ­sticas de uso
- â³ MÃ©tricas de participaciÃ³n en debates
- â³ AnÃ¡lisis de efectividad de filÃ³sofos
- â³ Reportes de tendencias filosÃ³ficas

### **ğŸ¯ GamificaciÃ³n Avanzada**
- â³ Sistema de logros y badges
- â³ Rankings de filÃ³sofos mÃ¡s efectivos
- â³ Competencias y torneos de debates
- â³ Recompensas por participaciÃ³n

### **ğŸ”„ Interacciones Sociales**
- â³ Sistema de comentarios en debates
- â³ VotaciÃ³n y rating de argumentos
- â³ Compartir debates pÃºblicos
- â³ Seguimiento de filÃ³sofos favoritos

### **ğŸš€ Inteligencia Artificial Avanzada**
- â³ AnÃ¡lisis de sentimientos en debates
- â³ GeneraciÃ³n automÃ¡tica de contraargumentos
- â³ ResÃºmenes inteligentes de debates largos
- â³ Sugerencias de temas de debate

### **ğŸ“± Experiencia MÃ³vil**
- â³ PWA (Progressive Web App)
- â³ Notificaciones push
- â³ Modo offline bÃ¡sico
- â³ OptimizaciÃ³n para tablets

### **ğŸ”§ AdministraciÃ³n Avanzada**
- â³ Sistema de moderaciÃ³n automÃ¡tica
- â³ GestiÃ³n de contenido inapropiado
- â³ Backup automÃ¡tico de datos
- â³ Sistema de logs avanzado

---

## ğŸ¯ **OBJETIVOS A LARGO PLAZO - Fase IV: Escalabilidad**

### **ğŸŒ DistribuciÃ³n y Escalabilidad**
- â³ API pÃºblica para integraciones
- â³ Webhooks para eventos de sistema
- â³ Multi-tenancy para organizaciones
- â³ IntegraciÃ³n con plataformas educativas

### **ğŸ§ª InvestigaciÃ³n y Desarrollo**
- â³ Algoritmos de debate mÃ¡s sofisticados
- â³ Modelos de personalidad filosÃ³fica avanzados
- â³ IntegraciÃ³n con mÃºltiples LLMs
- â³ Sistema de aprendizaje adaptativo

### **ğŸ“š Contenido y ExpansiÃ³n**
- â³ Biblioteca de filÃ³sofos histÃ³ricos
- â³ Escuelas filosÃ³ficas especializadas
- â³ Temas de debate estructurados
- â³ Recursos educativos integrados

---

## ğŸ”¥ **PRÃ“XIMAS PRIORIDADES INMEDIATAS**

1. **ğŸ¤– Sistema de GestiÃ³n de Prompts y Modelos LLM** â­ **MÃXIMA PRIORIDAD**
   - Panel administrativo para gestiÃ³n de prompts
   - Selector dinÃ¡mico de modelos LLM
   - GestiÃ³n de mÃºltiples proveedores de IA
   - Versionado y testing de prompts
   - Dashboard de costos y mÃ©tricas

2. **ğŸ“Š Sistema de Analytics BÃ¡sico**
   - MÃ©tricas de uso de filÃ³sofos
   - EstadÃ­sticas de debates
   - Dashboard administrativo

3. **ğŸ¨ Mejoras UI/UX**
   - Responsive design completo
   - Animaciones y micro-interacciones
   - Tema oscuro/claro

4. **ğŸ› Pulimiento y Bug Fixes**
   - Resolver conflictos de tipos TypeScript
   - Validaciones adicionales
   - Testing automatizado

5. **ğŸ”´ CRÃTICO: Resolver Problemas del Modal de ExportaciÃ³n**
   - Cache corrupto de Next.js/Turbopack
   - Z-index del modal insuficiente
   - CancelaciÃ³n manual reportada como error
   - **Ver**: [docs/PROBLEMAS_PENDIENTES_EXPORT_MODAL.md](docs/PROBLEMAS_PENDIENTES_EXPORT_MODAL.md)

---

## âš ï¸ **ISSUES CRÃTICOS PENDIENTES**

### **ğŸ”´ Modal de ExportaciÃ³n - CRÃTICO**
- **Estado**: PENDIENTE DE RESOLUCIÃ“N
- **Impacto**: UX degradada en funcionalidad core
- **Backup**: `Dialecticia-backup-20250603-151152.zip`
- **DocumentaciÃ³n**: [docs/PROBLEMAS_PENDIENTES_EXPORT_MODAL.md](docs/PROBLEMAS_PENDIENTES_EXPORT_MODAL.md)

**Problemas identificados:**
1. Modal aparece detrÃ¡s de otros elementos (z-index insuficiente)
2. CancelaciÃ³n manual interpretada como error
3. Errores de Server/Client Component por cÃ³digo cached corrupto

**ResoluciÃ³n recomendada:**
```bash
# Limpieza profunda de cache corrupto
pkill -f "next dev" && rm -rf .next node_modules/.cache .turbo
npm cache clean --force && rm -rf node_modules && npm install
```

---

## ğŸ“ **CAMBIOS RECIENTES**

### **2025-01-29 - Nueva Prioridad: Sistema de GestiÃ³n LLM**
- ğŸ†• **NUEVO OBJETIVO**: Sistema completo de gestiÃ³n de prompts y modelos LLM
- ğŸ¯ **JUSTIFICACIÃ“N**: Necesidad de iteraciÃ³n rÃ¡pida sin tocar cÃ³digo
- ğŸ“‹ **ALCANCE**: Panel admin, selector de modelos, gestiÃ³n de API keys, versionado de prompts
- âš¡ **URGENCIA**: MÃ¡xima prioridad para permitir experimentaciÃ³n Ã¡gil

### **2025-01-28 - ActualizaciÃ³n Major: Trade-offs y NavegaciÃ³n**
- âœ… **ARREGLADO**: Sistema de trade-offs con etiquetas correctas ordenadas
  - Conservador â†’ Revolucionario
  - Estructurado â†’ Creativo  
  - AnalÃ­tico â†’ SintÃ©tico
  - SistemÃ¡tico â†’ Intuitivo
  - PragmÃ¡tico â†’ Idealista
- âœ… **ARREGLADO**: Mapeo consistente entre wizard de creaciÃ³n y ediciÃ³n
- âœ… **MEJORADO**: MigraciÃ³n a GPT-4o para mejor generaciÃ³n de rasgos
- âœ… **MEJORADO**: Prompt integral que combina todos los elementos del perfil
- âœ… **NUEVO**: NavegaciÃ³n de vuelta al home desde laboratorio de filÃ³sofos
- âœ… **NUEVO**: PÃ¡gina principal renovada con botones "Iniciar Debate" y "Laboratorio"
- âœ… **MEJORADO**: Debugging completo con logs detallados del LLM
- âœ… **LIMPIEZA**: EliminaciÃ³n de cache y reinstalaciÃ³n completa del proyecto

### **Anteriores (2025-01-28)**
- âœ… **ARREGLADO**: BotÃ³n de duplicar ahora aparece en TODOS los filÃ³sofos
- âœ… **ARREGLADO**: CategorÃ­as de personalidad se preservan despuÃ©s de editar filÃ³sofos
- âœ… **MEJORADO**: Schema de actualizaciÃ³n incluye todos los campos del laboratorio
- âœ… **MEJORADO**: Parsing JSON mÃ¡s robusto para evitar errores de runtime
- âœ… **BACKUP**: Creado backup antes de cambios importantes

### **PrÃ³xima SesiÃ³n**
- ğŸ¯ **PRIORIDAD 1**: Implementar sistema completo de gestiÃ³n de prompts y modelos LLM
- ğŸ¯ Crear backup de estado actual antes de cambios
- ğŸ¯ Implementar panel de administraciÃ³n para gestiÃ³n de IA
- ğŸ¯ Resolver Ãºltimos conflictos de tipos TypeScript

---

## ğŸ”§ **CONFIGURACIÃ“N Y ESTADO ACTUAL**

- **Backend**: Next.js 15.3.2 + TypeScript
- **Base de Datos**: PostgreSQL + Prisma ORM
- **AutenticaciÃ³n**: Sistema personalizado con sesiones
- **LLM**: OpenAI GPT-4o (migrado desde GPT-3.5-turbo)
- **UI**: Tailwind CSS + Shadcn/ui
- **Estado**: Desarrollo activo - Sistema de trade-offs completamente funcional
- **Servidor**: http://localhost:3001

### **ğŸ¤– Puntos de InteracciÃ³n LLM Identificados:**
1. **GeneraciÃ³n de respuestas de filÃ³sofos** (`src/lib/llm.ts`)
2. **GeneraciÃ³n de personalidades** (`src/app/api/admin/philosophers/generate-final-result/route.ts`)
3. **AnÃ¡lisis de personalidad** (`src/lib/personality-analyzer.ts`)
4. **SelecciÃ³n de filÃ³sofos antagÃ³nicos** (`src/lib/llm.ts`)
5. **Prompts socrÃ¡ticos** (sistema de archivos en `src/lib/prompts.ts`)

**Ãšltima actualizaciÃ³n**: 28 de Enero, 2025 - 22:30 PM

## âœ… **COMPLETADO RECIENTEMENTE**

### **ğŸ¤– Sistema de GeneraciÃ³n de Campos LLM** *(Enero 2025)*
- âœ… **EliminaciÃ³n de funciones hardcodeadas** del wizard de creaciÃ³n
- âœ… **ImplementaciÃ³n completa** del sistema de prompts en base de datos
- âœ… **Endpoint unificado** `/api/admin/llm/generate-field` 
- âœ… **GeneraciÃ³n automÃ¡tica** de `argumentStyle`, `questioningApproach`, `coreBeliefs`
- âœ… **IntegraciÃ³n total** con LLMService y arquitectura existente
- âœ… **Script de inicializaciÃ³n** de prompts en base de datos
- âœ… **DocumentaciÃ³n completa** del sistema implementado

### **ğŸ¨ Sistema de Autocompletado Inteligente** *(Enero 2025)*
- âœ… **Lista expandida** de 250+ filÃ³sofos y escuelas filosÃ³ficas
- âœ… **BÃºsqueda en tiempo real** con filtrado alfabÃ©tico
- âœ… **Entrada manual personalizada** cuando no se encuentra opciÃ³n
- âœ… **NavegaciÃ³n con teclado** (flechas, Enter, Escape)
- âœ… **SelecciÃ³n visual** mejorada con highlighting

### **ğŸ“„ Sistema de ExportaciÃ³n PDF** *(Enero 2025)*
- âœ… **ExportaciÃ³n completa** de debates a PDF profesional
- âœ… **Mejora automÃ¡tica** de campos "generated" durante export
- âœ… **DiseÃ±o responsive** adaptado para impresiÃ³n
- âœ… **InformaciÃ³n completa** de filÃ³sofos y personalidad

### **ğŸ¯ Wizard de CreaciÃ³n de FilÃ³sofos** *(Diciembre 2024)*
- âœ… **Sistema de 5 pasos** completamente funcional
- âœ… **Trade-offs de personalidad** con sliders interactivos
- âœ… **IntegraciÃ³n completa** con base de datos
- âœ… **ValidaciÃ³n de datos** en cada paso
- âœ… **Preview en tiempo real** de los filÃ³sofos creados

---

## ğŸš€ **EN DESARROLLO**

### **ğŸ“Š Panel de AdministraciÃ³n LLM**
- ğŸ”„ **Dashboard de mÃ©tricas** de uso y costos
- ğŸ”„ **Editor visual de prompts** con preview
- ğŸ”„ **Sistema de versionado** de prompts
- ğŸ”„ **A/B testing** de diferentes prompts

### **ğŸ® Sistema de GamificaciÃ³n**
- ğŸ”„ **Puntos y logros** por calidad de debates
- ğŸ”„ **Rankings** de filÃ³sofos mÃ¡s efectivos
- ğŸ”„ **Challenges** filosÃ³ficos semanales

---

## ğŸ“… **PLANIFICADO**

### **Q1 2025 - OptimizaciÃ³n y Analytics**
- [ ] **Sistema de cachÃ©** para respuestas LLM frecuentes
- [ ] **Analytics avanzado** de patrones de debate
- [ ] **OptimizaciÃ³n de prompts** basada en mÃ©tricas de calidad
- [ ] **Sistema de rating** de respuestas de filÃ³sofos

### **Q2 2025 - ExpansiÃ³n Social**
- [ ] **Debates pÃºblicos** entre usuarios
- [ ] **Salas de debate** con mÃºltiples filÃ³sofos
- [ ] **Sistema de seguidores** y filÃ³sofos favoritos
- [ ] **Compartir debates** en redes sociales

### **Q3 2025 - IA Avanzada**
- [ ] **Fine-tuning** de modelos especÃ­ficos para filosofÃ­a
- [ ] **GeneraciÃ³n automÃ¡tica** de temas de debate
- [ ] **AnÃ¡lisis de sesgo** filosÃ³fico en debates
- [ ] **Recomendaciones personalizadas** de filÃ³sofos

### **Q4 2025 - ExpansiÃ³n Global**
- [ ] **Multiidioma** (inglÃ©s, francÃ©s, alemÃ¡n)
- [ ] **FilÃ³sofos regionales** especÃ­ficos por cultura
- [ ] **API pÃºblica** para integraciones externas
- [ ] **AplicaciÃ³n mÃ³vil** nativa

---

## ğŸ¯ **MÃ‰TRICAS DE Ã‰XITO**

### **Actuales (Enero 2025)**
- âœ… **100% eliminaciÃ³n** de cÃ³digo hardcodeado
- âœ… **3 campos LLM** completamente automatizados
- âœ… **0 errores** en generaciÃ³n de filÃ³sofos
- âœ… **<2s tiempo** de generaciÃ³n promedio
- âœ… **250+ opciones** en autocompletado

### **Objetivos Q1 2025**
- [ ] **95% tasa de Ã©xito** en generaciÃ³n LLM
- [ ] **<500ms** tiempo de respuesta promedio
- [ ] **50+ debates** exportados semanalmente
- [ ] **10+ filÃ³sofos** creados diariamente

---

## ğŸ—ï¸ **ARQUITECTURA ACTUAL**

### **Backend Robusto**
- âœ… **Next.js 15** con App Router
- âœ… **Prisma ORM** con SQLite
- âœ… **Sistema LLM centralizado** con mÃºltiples providers
- âœ… **API RESTful** completa

### **Frontend Moderno**
- âœ… **React 19** con TypeScript
- âœ… **Tailwind CSS** responsive
- âœ… **Zustand** para estado global
- âœ… **Componentes reutilizables** modulares

### **IntegraciÃ³n LLM**
- âœ… **Claude 3.5 Sonnet** como modelo principal
- âœ… **Sistema de prompts** configurable
- âœ… **MÃ©tricas y costos** automÃ¡ticos
- âœ… **Fallbacks** robustos

---

## ğŸ”„ **CHANGELOG RECIENTE**

### **v2.0.0** *(Enero 2025)*
- **BREAKING:** Sistema completo de generaciÃ³n LLM
- **NEW:** Endpoint `/api/admin/llm/generate-field`
- **NEW:** 3 prompts especializados en base de datos
- **IMPROVED:** EliminaciÃ³n total de funciones hardcodeadas
- **DOCS:** DocumentaciÃ³n completa del sistema LLM

### **v1.9.0** *(Enero 2025)*
- **NEW:** Autocompletado inteligente con 250+ opciones
- **NEW:** Entrada manual personalizada
- **IMPROVED:** UX del wizard de creaciÃ³n
- **FIXED:** Problemas de selecciÃ³n en dropdowns

### **v1.8.0** *(Enero 2025)*
- **NEW:** ExportaciÃ³n PDF profesional
- **NEW:** Mejora automÃ¡tica de campos "generated"
- **IMPROVED:** DiseÃ±o responsive para impresiÃ³n
- **FIXED:** Problemas de renderizado en PDFs

---

**ğŸ¯ PRÃ“XIMO HITO:** Sistema de cachÃ© LLM y optimizaciÃ³n de prompts basada en mÃ©tricas de calidad. 